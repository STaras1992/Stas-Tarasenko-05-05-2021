(this["webpackJsonpherolo-weather"]=this["webpackJsonpherolo-weather"]||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(19),o=a.n(n),i=a(35),c=(a(87),a(11)),s=a(15),u=a(4),l=a(52),p=a(5),d=a(145),b=a(147),f=a(149),m=a(157),h=a(150),j=a(7),O=a(151),v=a(158),x="SET_IS_LOADING",g="SET_ERROR",y="SET_LOCATION",k="SET_CURRENT_LOCATION",w="SET_WEATHER",T="ADD_FAVORITE_LOCATION",S="REMOVE_FAVORITE_LOCATION",D="UPDATE_FAVORITE_LOCATION",C="SET_FIVE_DAYS_FORECAST",I="SET_THEME",N="SET_TEMPERATURE_UNITS",L="LOAD_FAVORITE_LOCATIONS",B=function(e){return{type:I,payload:e}},z=function(e){return function(t){localStorage.setItem("temperatureUnits",e),t(function(e){return{type:N,payload:e}}(e))}},A=a(2),E=Object(d.a)((function(e){return{root:{height:72,backgroundColor:e.palette.background.header},toolbar:{display:"flex",justifyContent:"space-between",alignItems:"center"},buttonsContainer:Object(p.a)({display:"flex","& .MuiButton-root":{minWidth:"100px",margin:"0.5rem"}},e.breakpoints.down("sm"),{width:"100%",justifyContent:"space-between"}),logo:{display:"flex",alignItems:"center",textDecoration:"none",fontFamily:"Fredoka One, cursive"},icon:{color:"#fff",cursor:"pointer"},divider:{margin:"15px",marginLeft:"25px",background:e.palette.text.primary},toggleButtonsWrapper:{marginRight:"1rem","& span":{color:e.palette.text.primary}},toggleButton:{"&.MuiToggleButton-root.Mui-selected":{backgroundColor:e.palette.primary.main}},routerLinksWrapper:{display:"flex",justifyContent:"space-around",alignItems:"center"},routerLink:{color:e.palette.link.primary,marginRight:"1rem",textDecoration:"none",textTransform:"none"},activeLink:{color:e.palette.link.secondary}}})),W=function(e){e.isLoggedIn,e.onMobileNavOpen;var t=Object(l.a)(e,["isLoggedIn","onMobileNavOpen"]),a=E(),r=Object(c.b)(),n=Object(s.g)(),o=Object(c.c)((function(e){return e.app.theme}));return Object(A.jsx)(b.a,Object(u.a)(Object(u.a)({className:a.root,elevation:0},t),{},{children:Object(A.jsxs)(f.a,{className:a.toolbar,children:[Object(A.jsx)(m.a,{smDown:!0,children:Object(A.jsxs)(i.b,{className:a.logo,to:"/",children:[Object(A.jsx)(h.a,{variant:"h4",color:"primary",children:"Herolo"}),Object(A.jsx)(h.a,{variant:"h4",color:"secondary",children:"Weather"})]})}),Object(A.jsxs)("div",{className:a.buttonsContainer,children:[Object(A.jsxs)(v.a,{className:a.toggleButtonsWrapper,value:o,size:"small",exclusive:!0,onChange:function(e,t){var a;r((a=t,function(e){localStorage.setItem("theme",a),e(B(a))}))},"aria-label":"theme",children:[Object(A.jsx)(O.a,{className:a.toggleButton,value:"light","aria-label":"light-theme",children:"Light"}),Object(A.jsx)(O.a,{className:a.toggleButton,value:"dark","aria-label":"dark-theme",children:"Dark"})]}),Object(A.jsxs)("div",{className:a.routerLinksWrapper,children:[Object(A.jsx)(i.b,{className:Object(j.a)(a.routerLink,Object(p.a)({},a.activeLink,"/"===n.pathname)),to:"/",children:"Main"}),Object(A.jsx)(i.b,{className:Object(j.a)(a.routerLink,Object(p.a)({},a.activeLink,"/favorites"===n.pathname)),to:"/favorites",children:"Favorites"})]})]})]})}))},F=a(20),R=a(152),K=a(9),G=a.n(K),P=a(17),M=a(31),q=a.n(M),_=function(){var e=Object(P.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,q.a.get("https://corsanywhere.herokuapp.com//http://dataservice.accuweather.com/locations/v1/cities/autocomplete",{params:{apikey:"YBwmlsbf0mGK6rqDunRlxGtkKGp4emAK",q:t}});case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,q.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete",{params:{apikey:"YBwmlsbf0mGK6rqDunRlxGtkKGp4emAK",q:t}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(P.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,q.a.get("https://corsanywhere.herokuapp.com//http://dataservice.accuweather.com/locations/v1/cities/geoposition/search",{params:{apikey:"YBwmlsbf0mGK6rqDunRlxGtkKGp4emAK",q:"".concat(t.lat,",").concat(t.lon)}});case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,q.a.get("http://dataservice.accuweather.com/locations/v1/cities/geoposition/search",{params:{apikey:"YBwmlsbf0mGK6rqDunRlxGtkKGp4emAK",q:"".concat(t.lat,",").concat(t.lon)}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(P.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,q.a.get("https://corsanywhere.herokuapp.com//http://dataservice.accuweather.com/currentconditions/v1/".concat(t),{params:{apikey:"YBwmlsbf0mGK6rqDunRlxGtkKGp4emAK"}});case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,q.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(t),{params:{apikey:"YBwmlsbf0mGK6rqDunRlxGtkKGp4emAK"}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(P.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,q.a.get("https://corsanywhere.herokuapp.com//http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t),{params:{apikey:"YBwmlsbf0mGK6rqDunRlxGtkKGp4emAK"}});case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,q.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t),{params:{apikey:"YBwmlsbf0mGK6rqDunRlxGtkKGp4emAK"}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=a(76),J={option:function(e,t){return Object(u.a)(Object(u.a)({},e),{},{borderBottom:"1px dotted pink",color:t.isSelected?"red":"",fontSize:15,backgroundColor:t.isSelected?"#eee":"",textAlign:"left",cursor:"pointer"})},container:function(e){return Object(u.a)(Object(u.a)({},e),{},{width:"100%"})},control:function(e){return Object(u.a)(Object(u.a)({},e),{},{height:40,minHeight:40,fontSize:16,borderRadius:6,width:"100%",textAlign:"left",cursor:"pointer",paddingLeft:"6px"})},dropdownIndicator:function(e){return Object(u.a)(Object(u.a)({},e),{},{display:"none"})},indicatorSeparator:function(e){return Object(u.a)(Object(u.a)({},e),{},{display:"none"})},valueContainer:function(e){return Object(u.a)(Object(u.a)({},e),{},{padding:0,paddingLeft:2})}},X=function(e){var t=e.value,a=(e.options,e.name),r=e.loadOptions,n=e.onChange,o=e.onInputChange,i=Object(l.a)(e,["value","options","name","loadOptions","onChange","onInputChange"]);return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(H.a,Object(u.a)({name:a,styles:J,value:t,loadOptions:r,onChange:n,onInputChange:o},i))})},Q=function(e){if(!e||0===e.length)return[];return e.map((function(e){return{value:e.Key,label:e.LocalizedName}}))},Z=Object(d.a)((function(e){return{root:{}}})),$=[{value:"210841",label:"Tehran"},{value:"60592",label:"Tengzhou"},{value:"215854",label:"Tel Aviv"}],ee=function(e){var t=e.onLocationChange,a=Z(),n=Object(r.useState)(!1),o=Object(F.a)(n,2),i=o[0],c=o[1],s=Object(r.useState)([]),u=Object(F.a)(s,2),l=u[0],p=u[1],d=Object(r.useState)(null),b=Object(F.a)(d,2),f=b[0],m=b[1],h=Object(r.useState)(""),j=Object(F.a)(h,2),O=j[0],v=j[1],x=function(){var e=Object(P.a)(G.a.mark((function e(t,a){var r,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=4,_(t);case 4:(r=e.sent)?(n=Q(r.data),p(n),a(n)):(p([]),a([])),a(l),e.next=10;break;case 9:a($);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){i&&c(!1)}),[l]),Object(r.useEffect)((function(){f&&t({key:f.value,name:f.label})}),[f]),Object(A.jsx)("div",{className:a.root,children:Object(A.jsx)(X,{inputValue:O,value:f,options:l,name:"locationSearch",getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isLoading:i,loadOptions:x,onChange:function(e){m(e)},onInputChange:function(e){v(e)},placeholder:"Search location",hideSelectedOptions:!1,loadingMessage:function(){return"Searching..."},noOptionsMessage:function(){return"No results"}})})},te=a.p+"static/media/city1.5ebf0cb6.jpg",ae=a(123),re=a(153),ne=a.p+"static/media/sun1.9f8ef65d.png",oe=a.p+"static/media/sun2.483d912e.png",ie=(a.p,a.p+"static/media/clear2.e9b80fe7.png"),ce=a.p+"static/media/clouds1.c4983350.png",se=a.p+"static/media/clouds2.bbe51368.png",ue=a.p+"static/media/cold.48b7ced3.png",le=a.p+"static/media/hot.ca4ec20b.png",pe=a.p+"static/media/rain1.952e9bac.png",de=a.p+"static/media/rain2.3201c86e.png",be=(a.p,a.p+"static/media/snow1.51659dbb.png"),fe=(a.p,function(e){return e<=2?ne:e<=6?oe:e<=11?ce:e<=14?pe:e<=18?de:e<=21?oe:e<=24?be:e<=29?se:30===e?le:31===e?ue:e<=38?ie:se}),me=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],he=function(e){return e.getHours()>7&&e.getHours()<20?"day":"night"},je=Object(d.a)((function(e){var t,a,r;return{root:(t={backgroundColor:e.palette.background.card,boxShadow:e.shadow.primary,width:"90%",marginBottom:"1rem",maxWidth:"280px",height:"300px",display:"flex",flexDirection:"column",alignItems:"center",border:"1px solid #000",borderRadius:"8px",justifyContent:"space-around"},Object(p.a)(t,e.breakpoints.up("sm"),{width:"30%"}),Object(p.a)(t,e.breakpoints.up("md"),{width:"18%"}),Object(p.a)(t,e.breakpoints.up("xl"),{width:"15%"}),Object(p.a)(t,"transition","all 0.4s ease-in-out"),Object(p.a)(t,"&:hover",{transition:"all 0.4s ease-in-out 0.3s",transform:"scale(1.6) translateY(-10%) rotateY(360deg)"}),t),imageWrapper:{display:"flex",justifyContent:"center","& img":Object(p.a)({maxWidth:"200px"},e.breakpoints.up("xl"),{maxWidth:"250px"})},dayTitle:(a={fontWeight:600,fontSize:"2rem"},Object(p.a)(a,e.breakpoints.up("lg"),{fontSize:"2.2rem"}),Object(p.a)(a,e.breakpoints.up("xl"),{fontSize:"2.5rem"}),a),temperatureTitle:(r={fontWeight:700,fontSize:"2.5rem"},Object(p.a)(r,e.breakpoints.up("md"),{fontSize:"2.7rem"}),Object(p.a)(r,e.breakpoints.up("lg"),{fontSize:"3rem"}),Object(p.a)(r,e.breakpoints.up("xl"),{fontSize:"3.5rem"}),r)}})),Oe=function(e){var t,a,r,n=e.weather,o=je(),i=Object(c.c)((function(e){return e.app.temperatureUnits}));return Object(A.jsxs)(ae.a,{className:o.root,children:[Object(A.jsx)(h.a,{className:o.dayTitle,variant:"h3",color:"textPrimary",children:(r=new Date(n.date),me[r.getDay()])}),Object(A.jsx)("div",{className:o.imageWrapper,children:Object(A.jsx)("img",{src:fe(n.icon||1),width:"50%",alt:"weather"})}),Object(A.jsx)(h.a,{className:o.temperatureTitle,variant:"h2",color:"textPrimary",children:"fahrenheit"===i?"".concat(null===n||void 0===n||null===(t=n.temperature)||void 0===t?void 0:t.f,"\xb0F"):"".concat(null===n||void 0===n||null===(a=n.temperature)||void 0===a?void 0:a.c,"\xb0C")})]})},ve=function(e){return 5*(e-32)/9},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"c",r=(e+t)/2;return r="f"===a?r:ve(r),Number(Math.round(r))},ge=function(e){return{type:g,payload:e}},ye=function(e){return{type:w,payload:e}},ke=function(e){return{type:C,payload:e}},we=function(e){return{type:x,payload:e}},Te=function(e){return{type:T,payload:e}},Se=function(e){return{type:D,payload:e}},De=function(e){return{type:x,payload:e}},Ce=function(e){return function(){var t=Object(P.a)(G.a.mark((function t(a){var r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,De(!0),a(Te({location:e})),a(Ne(e)),De(!1),t.next=22;break;case 7:t.prev=7,t.t0=t.catch(0),t.t1=null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.status,t.next=400===t.t1?13:401===t.t1?15:403===t.t1?17:404===t.t1?19:21;break;case 13:return a(ge("Bad request!")),t.abrupt("break",22);case 15:return a(ge("API authorization failed!")),t.abrupt("break",22);case 17:return a(ge("Permission denied!")),t.abrupt("break",22);case 19:return a(ge("Data not found!")),t.abrupt("break",22);case 21:a(ge("Something went wrong"));case 22:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Ie=function(e){return function(){var t=Object(P.a)(G.a.mark((function t(a){var r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,De(!0),a({type:S,payload:e}),De(!1),t.next=21;break;case 6:t.prev=6,t.t0=t.catch(0),t.t1=null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.status,t.next=400===t.t1?12:401===t.t1?14:403===t.t1?16:404===t.t1?18:20;break;case 12:return a(ge("Bad request!")),t.abrupt("break",21);case 14:return a(ge("API authorization failed!")),t.abrupt("break",21);case 16:return a(ge("Permission denied!")),t.abrupt("break",21);case 18:return a(ge("Data not found!")),t.abrupt("break",21);case 20:a(ge("Something went wrong"));case 21:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},Ne=function(e){return function(){var t=Object(P.a)(G.a.mark((function t(a){var r,n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,Y((null===e||void 0===e?void 0:e.key)||e.location.key);case 4:n=t.sent,a(Se({location:e,date:n.data[0].LocalObservationDateTime,isDayTime:n.data[0].IsDayTime,icon:n.data[0].WeatherIcon,temperature:{c:n.data[0].Temperature.Metric.Value,f:n.data[0].Temperature.Imperial.Value},weatherText:n.data[0].WeatherText})),t.next=9;break;case 8:a(Se({location:e,date:"2021-05-08T21:05:00+03:00",isDayTime:!0,icon:1,temperature:{c:25,f:77},weatherText:"Clear"}));case 9:t.next=26;break;case 11:t.prev=11,t.t0=t.catch(0),t.t1=null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.status,t.next=400===t.t1?17:401===t.t1?19:403===t.t1?21:404===t.t1?23:25;break;case 17:return a(ge("Bad request!")),t.abrupt("break",26);case 19:return a(ge("API authorization failed!")),t.abrupt("break",26);case 21:return a(ge("Permission denied!")),t.abrupt("break",26);case 23:return a(ge("Data not found!")),t.abrupt("break",26);case 25:a(ge("Something went wrong"));case 26:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},Le=function(){return function(e){var t;try{e(function(e){return{type:L,payload:e}}(JSON.parse(localStorage.getItem("favoriteLocations")||"[]")))}catch(a){switch(null===a||void 0===a||null===(t=a.response)||void 0===t?void 0:t.status){case 400:e(ge("Bad request!"));break;case 401:e(ge("API authorization failed!"));break;case 403:e(ge("Permission denied!"));break;case 404:e(ge("Data not found!"));break;default:e(ge("Failed to load data"))}}}},Be=Object(d.a)((function(e){var t,a,r;return{root:(t={minHeight:"60vh",display:"flex",flexDirection:"column",justifyContent:"space-between",margin:"0 1rem",padding:"1rem"},Object(p.a)(t,e.breakpoints.up("sm"),{margin:"0 5%"}),Object(p.a)(t,e.breakpoints.up("md"),{padding:"2rem"}),Object(p.a)(t,e.breakpoints.up("xl"),{margin:"0 10%"}),t),paper:{boxShadow:e.shadow.primary,background:e.palette.background.paper},cityDataWrapper:Object(p.a)({height:"150px",display:"flex"},e.breakpoints.up("md"),{height:"170px"}),cityData:{width:"70%",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",padding:"0 2rem"},cityImageWrapper:Object(p.a)({width:"150px",padding:"auto auto",backgroundImage:"url(".concat(te,")"),backgroundSize:"cover"},e.breakpoints.up("sm"),{width:"200px"}),weatherText:{margin:"3rem 0","& .MuiTypography-root":{display:"inline-block",fontFamily:"Fredoka One, cursive",transition:"all 0.5s ease-in-out","&:hover":{transition:"all 0.5s ease-in-out 0.2s",transform:"rotateX(360deg) scale(1.5)"}}},cardsContainer:Object(p.a)({display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},e.breakpoints.up("sm"),{flexDirection:"row",flexWrap:"wrap",width:"100%"}),toggleButtonsWrapper:{display:"flex",justifyContent:"flex-end",marginTop:"2rem",marginRight:"2rem","& span":{color:e.palette.text.primary}},toggleButton:{"&.MuiToggleButton-root.Mui-selected":{backgroundColor:e.palette.primary.main}},favoriteButtonContainer:Object(p.a)({width:"100%",display:"flex",margin:"1rem 0",justifyContent:"center"},e.breakpoints.up("md"),{justifyContent:"flex-end",alignItems:"flex-start"}),favoriteButton:{backgroundColor:e.palette.background.button.primary,boxShadow:e.shadow.button,border:"1px solid #fb3640",transition:"all 0.3s ease-in-out","&:hover":{borderRadius:"8px",transition:"all 0.3s ease-in-out",transform:"scale(1.1)",backgroundColor:e.palette.background.button.secondary}},locationTitle:(a={fontWeight:500,fontSize:"1.8rem"},Object(p.a)(a,e.breakpoints.up("lg"),{fontSize:"2.1rem"}),Object(p.a)(a,e.breakpoints.up("xl"),{fontSize:"2.3rem"}),a),temperatureTitle:(r={fontWeight:600,fontSize:"2.3rem"},Object(p.a)(r,e.breakpoints.up("md"),{fontSize:"2.4rem"}),Object(p.a)(r,e.breakpoints.up("lg"),{fontSize:"2.8rem"}),Object(p.a)(r,e.breakpoints.up("xl"),{fontSize:"3.0rem"}),r)}})),ze=function(){var e,t,a,n=Be(),o=Object(c.b)(),i=Object(c.c)((function(e){return e.location.location})),s=Object(c.c)((function(e){return e.location.currentLocation})),u=Object(c.c)((function(e){return e.weather.weather})),l=Object(c.c)((function(e){return e.weather.fiveDaysForecast})),p=Object(c.c)((function(e){return e.favorite.favoriteLocations})),d=Object(c.c)((function(e){return e.app.temperatureUnits})),b=Object(r.useState)([]),f=Object(F.a)(b,2),m=f[0],x=f[1],g=Object(r.useState)(!1),y=Object(F.a)(g,2),k=y[0],w=y[1],T=Object(r.useState)(!0),S=Object(F.a)(T,2),D=S[0],C=S[1];return Object(r.useEffect)((function(){var e;i&&(o((e=i,function(){var t=Object(P.a)(G.a.mark((function t(a){var r,n;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}return t.abrupt("return");case 3:return a(we(!0)),t.next=7,Y(e.key);case 7:n=t.sent,a(ye({location:e,date:n.data[0].LocalObservationDateTime,icon:n.data[0].WeatherIcon,isDayTime:n.data[0].IsDayTime,temperature:{c:n.data[0].Temperature.Metric.Value,f:n.data[0].Temperature.Imperial.Value},weatherText:n.data[0].WeatherText})),t.next=12;break;case 11:a(ye({location:e,date:"2021-05-08T21:05:00+03:00",isDayTime:!0,icon:1,temperature:{c:25,f:77},weatherText:"Clear"}));case 12:a(we(!1)),t.next=30;break;case 15:t.prev=15,t.t0=t.catch(0),t.t1=null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.status,t.next=400===t.t1?21:401===t.t1?23:403===t.t1?25:404===t.t1?27:29;break;case 21:return a(ge("Bad request!")),t.abrupt("break",30);case 23:return a(ge("API authorization failed!")),t.abrupt("break",30);case 25:return a(ge("Permission denied!")),t.abrupt("break",30);case 27:return a(ge("Data not found!")),t.abrupt("break",30);case 29:a(ge("Something went wrong"));case 30:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}())),o(function(e){return function(){var t=Object(P.a)(G.a.mark((function t(a){var r,n,o;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}return t.abrupt("return");case 3:return a(we(!0)),t.next=7,U(e.key);case 7:n=t.sent,o=n.data.DailyForecasts.map((function(t){return{location:e,date:t.Date,isDayTime:"day"===he(new Date(t.Date)),icon:"day"===he(new Date(t.Date))?t.Day.Icon:t.Night.Icon,temperature:{c:xe(t.Temperature.Minimum.Value,t.Temperature.Maximum.Value,"c"),f:xe(t.Temperature.Minimum.Value,t.Temperature.Maximum.Value,"f")},weatherText:"day"===he(new Date(t.Date))?t.Day.IconFhrase:t.Night.IconFhrase}})),a(ke(o)),t.next=13;break;case 12:a(ke([{location:e,date:"2021-05-08T21:05:00+03:00",isDayTime:!0,icon:1,temperature:{c:25,f:77},weatherText:"Clear"},{location:e,date:"2021-05-09T21:05:00+03:00",isDayTime:!1,icon:1,temperature:{c:11,f:72},weatherText:"Clouds"},{location:e,date:"2021-05-10T21:05:00+03:00",isDayTime:!0,icon:1,temperature:{c:21,f:82},weatherText:"Rain"},{location:e,date:"2021-05-11T21:05:00+03:00",isDayTime:!0,icon:1,temperature:{c:28,f:71},weatherText:"Sunny"},{location:e,date:"2021-05-12T21:05:00+03:00",isDayTime:!1,icon:1,temperature:{c:20,f:70},weatherText:"Clear"}]));case 13:a(we(!1)),t.next=31;break;case 16:t.prev=16,t.t0=t.catch(0),t.t1=null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.status,t.next=400===t.t1?22:401===t.t1?24:403===t.t1?26:404===t.t1?28:30;break;case 22:return a(ge("Bad request!")),t.abrupt("break",31);case 24:return a(ge("API authorization failed!")),t.abrupt("break",31);case 26:return a(ge("Permission denied!")),t.abrupt("break",31);case 28:return a(ge("Data not found!")),t.abrupt("break",31);case 30:a(ge("Something went wrong"));case 31:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()}(i)))}),[i]),Object(r.useEffect)((function(){!function(){var e=l.map((function(e){return Object(A.jsx)(Oe,{weather:e},e.location.key+e.date)}));x(e)}()}),[l]),Object(r.useEffect)((function(){var e,t=null===u||void 0===u||null===(e=u.location)||void 0===e?void 0:e.key;t&&(p.some((function(e){return e.location.key===t}))?w(!0):w(!1))}),[u]),Object(r.useEffect)((function(){if(D)return C(!1);localStorage.setItem("favoriteLocations",JSON.stringify(p))}),[p]),Object(r.useEffect)((function(){}),[]),Object(A.jsxs)(ae.a,{className:Object(j.a)(n.paper,n.root),children:[Object(A.jsxs)(R.a,{item:!0,container:!0,justify:"space-between",children:[Object(A.jsx)(R.a,{item:!0,xs:12,md:6,lg:4,children:Object(A.jsxs)("div",{className:n.cityDataWrapper,children:[Object(A.jsx)("div",{className:n.cityImageWrapper}),Object(A.jsxs)("div",{className:n.cityData,children:[Object(A.jsx)(h.a,{className:n.locationTitle,variant:"h4",children:null===u||void 0===u||null===(e=u.location)||void 0===e?void 0:e.name}),Object(A.jsx)(h.a,{className:n.temperatureTitle,variant:"h4",children:"fahrenheit"===d?"".concat(null===u||void 0===u||null===(t=u.temperature)||void 0===t?void 0:t.f,"\xb0F"):"".concat(null===u||void 0===u||null===(a=u.temperature)||void 0===a?void 0:a.c,"\xb0C")})]})]})}),Object(A.jsx)(R.a,{className:n.favoriteButtonContainer,md:6,lg:8,item:!0,children:k?Object(A.jsx)(re.a,{className:n.favoriteButton,variant:"contained",onClick:function(){o(Ie(i||s)),w(!1)},children:"Remove from favorites"}):Object(A.jsx)(re.a,{className:n.favoriteButton,variant:"contained",onClick:function(){o(Ce(i||s)),w(!0)},children:"Add to favorites"})})]}),Object(A.jsx)(R.a,{className:n.weatherText,item:!0,children:Object(A.jsx)(h.a,{variant:"h1",color:"primary",children:null===u||void 0===u?void 0:u.weatherText})}),Object(A.jsx)(R.a,{item:!0,children:Object(A.jsx)("div",{className:n.cardsContainer,children:m})}),Object(A.jsxs)(v.a,{className:n.toggleButtonsWrapper,value:d,size:"small",exclusive:!0,onChange:function(e,t){o(z(t))},"aria-label":"theme",children:[Object(A.jsx)(O.a,{className:n.toggleButton,value:"celsius","aria-label":"celcius",children:"Celcius"}),Object(A.jsx)(O.a,{className:n.toggleButton,value:"fahrenheit","aria-label":"fahrenheit",children:"Fahrenheit"})]})]})};var Ae=function(e){return{type:k,payload:e}},Ee=function(e){return{type:x,payload:e}},We=function(e){return function(){var t=Object(P.a)(G.a.mark((function t(a){var r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,a(Ee(!0)),a({type:y,payload:e}),a(Ee(!1)),t.next=21;break;case 6:t.prev=6,t.t0=t.catch(0),t.t1=null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.status,t.next=400===t.t1?12:401===t.t1?14:403===t.t1?16:404===t.t1?18:20;break;case 12:return a(ge("Bad request!")),t.abrupt("break",21);case 14:return a(ge("API authorization failed!")),t.abrupt("break",21);case 16:return a(ge("Permission denied!")),t.abrupt("break",21);case 18:return a(ge("Data not found!")),t.abrupt("break",21);case 20:a(ge("Something went wrong"));case 21:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},Fe=a(155),Re=a(156);var Ke=function(e){return Object(A.jsx)(Re.a,Object(u.a)({elevation:6,style:{fontSize:"30px"},variant:"filled"},e))},Ge=Object(d.a)((function(e){var t,a;return{root:{marginTop:"calc(72px)",transition:"all 0.5s ease-in-out"},mainContainer:(t={margin:"0 1rem",padding:"1rem"},Object(p.a)(t,e.breakpoints.up("sm"),{margin:"0 5%"}),Object(p.a)(t,e.breakpoints.up("md"),{padding:"2rem"}),Object(p.a)(t,e.breakpoints.up("xl"),{margin:"0 10%"}),t),paper:{padding:e.spacing(2),background:e.palette.background.paper,color:e.palette.text.secondary,justifyContent:"center"},searchContainer:(a={margin:"1rem 1rem"},Object(p.a)(a,e.breakpoints.up("sm"),{margin:"2rem 15%"}),Object(p.a)(a,e.breakpoints.up("xl"),{margin:"3rem 25%"}),a),search:{background:"#393e46",borderRadius:"15px"},searchInput:{color:e.palette.text.primary},searchIcon:{color:e.palette.text.primary},cityDataWrapper:{display:"flex"},cityData:{paddingLeft:"1rem"},cityImageWrapper:{width:"150px",height:"150px",backgroundImage:"url(".concat(te,")"),backgroundSize:"cover"},cardsContainer:Object(p.a)({display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},e.breakpoints.up("sm"),{flexDirection:"row",width:"100%"})}})),Pe=function(){var e=Ge(),t=Object(c.b)(),a=Object(c.c)((function(e){return e.error.error})),n=Object(r.useState)(!1),o=Object(F.a)(n,2),i=o[0],s=o[1],u=function(){s(!1)};return Object(r.useEffect)((function(){a&&!i&&s(!0)}),[a]),Object(A.jsxs)("div",{className:e.root,children:[Object(A.jsxs)(R.a,{container:!0,direction:"column",spacing:1,children:[Object(A.jsx)(R.a,{item:!0,children:Object(A.jsx)("div",{className:e.searchContainer,children:Object(A.jsx)(ee,{onLocationChange:function(e){t(We(e))}})})}),Object(A.jsx)(R.a,{item:!0,container:!0,direction:"column",children:Object(A.jsx)(ze,{})})]}),i&&Object(A.jsx)(Fe.a,{open:i,autoHideDuration:2e3,onClose:u,children:Object(A.jsx)(Ke,{onClose:u,severity:"error",children:a})})]})},Me=Object(d.a)((function(e){var t,a,r,n;return{root:(t={backgroundColor:e.palette.background.card,boxShadow:e.shadow.primary,width:"90%",marginBottom:"1rem",maxWidth:"280px",height:"300px",display:"flex",border:"1px solid #000",borderRadius:"8px",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},Object(p.a)(t,e.breakpoints.up("sm"),{width:"33%"}),Object(p.a)(t,e.breakpoints.up("md"),{width:"18%"}),Object(p.a)(t,e.breakpoints.up("xl"),{width:"15%"}),Object(p.a)(t,"transition","all 0.3s ease-in-out"),Object(p.a)(t,"&:hover",{transition:"all 0.3s ease-in-out",transform:"scale(1.1)"}),t),imageWrapper:{display:"flex",justifyContent:"center","& img":Object(p.a)({maxWidth:"200px"},e.breakpoints.up("xl"),{maxWidth:"250px"})},locationTitle:(a={fontWeight:500,fontSize:"1.8rem"},Object(p.a)(a,e.breakpoints.up("lg"),{fontSize:"2.1rem"}),Object(p.a)(a,e.breakpoints.up("xl"),{fontSize:"2.3rem"}),a),weatherTitle:(r={fontWeight:500,fontSize:"1.8rem"},Object(p.a)(r,e.breakpoints.up("lg"),{fontSize:"2.0rem"}),Object(p.a)(r,e.breakpoints.up("xl"),{fontSize:"2.1rem"}),r),temperatureTitle:(n={fontWeight:600,fontSize:"2.3rem"},Object(p.a)(n,e.breakpoints.up("md"),{fontSize:"2.4rem"}),Object(p.a)(n,e.breakpoints.up("lg"),{fontSize:"2.8rem"}),Object(p.a)(n,e.breakpoints.up("xl"),{fontSize:"3.0rem"}),n)}})),qe=function(e){var t,a,r=e.locationData,n=e.handleFavoriteSelect,o=Me(),i=Object(c.c)((function(e){return e.app.temperatureUnits}));return Object(A.jsxs)(ae.a,{className:o.root,onClick:function(){n(r.location)},children:[Object(A.jsx)(h.a,{className:o.locationTitle,variat:"h3",color:"textPrimary",children:r.location.name}),Object(A.jsx)("div",{className:o.imageWrapper,children:Object(A.jsx)("img",{src:fe(r.icon),width:"50%",alt:"weather"})}),Object(A.jsx)(h.a,{className:o.weatherTitle,variant:"h2",color:"textSecondary",children:r.weatherText}),Object(A.jsx)(h.a,{className:o.temperatureTitle,variant:"h2",color:"textPrimary",children:"fahrenheit"===i?"".concat(null===r||void 0===r||null===(t=r.temperature)||void 0===t?void 0:t.f,"\xb0F"):"".concat(null===r||void 0===r||null===(a=r.temperature)||void 0===a?void 0:a.c,"\xb0C")})]})},_e=Object(d.a)((function(e){var t;return{root:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},cardsContainer:Object(p.a)({margin:"2rem 1rem",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},e.breakpoints.up("sm"),{margin:"3rem 1rem",flexDirection:"row",flexWrap:"wrap",width:"100%"}),title:(t={fontWeight:500,fontSize:"3rem"},Object(p.a)(t,e.breakpoints.up("sm"),{fontSize:"3.5rem"}),Object(p.a)(t,e.breakpoints.up("md"),{fontSize:"4rem"}),Object(p.a)(t,e.breakpoints.up("lg"),{fontSize:"5rem"}),t)}})),Ve=function(){var e=_e({}),t=Object(c.b)(),a=Object(s.f)(),n=Object(c.c)((function(e){return e.location.location})),o=Object(c.c)((function(e){return e.favorite.favoriteLocations})),i=Object(r.useState)(!0),u=Object(F.a)(i,2),l=u[0],p=u[1],d=Object(r.useState)([]),b=Object(F.a)(d,2),f=b[0],m=b[1],j=function(e){t(We(e))};return Object(r.useEffect)((function(){if(l)return p(!1);a.push("/")}),[n]),Object(r.useEffect)((function(){m(o.map((function(e){return Object(A.jsx)(qe,{locationData:e,handleFavoriteSelect:j},e.location.key)})))}),[o]),Object(r.useEffect)((function(){o.length>0&&t(function(e){return function(){var t=Object(P.a)(G.a.mark((function t(a){var r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e.forEach((function(e){return a(Ne(e))})),t.next=19;break;case 4:t.prev=4,t.t0=t.catch(0),t.t1=null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.status,t.next=400===t.t1?10:401===t.t1?12:403===t.t1?14:404===t.t1?16:18;break;case 10:return a(ge("Bad request!")),t.abrupt("break",19);case 12:return a(ge("API authorization failed!")),t.abrupt("break",19);case 14:return a(ge("Permission denied!")),t.abrupt("break",19);case 16:return a(ge("Data not found!")),t.abrupt("break",19);case 18:a(ge("Failed to update data"));case 19:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e){return t.apply(this,arguments)}}()}(o))}),[]),Object(A.jsxs)("div",{className:e.root,children:[Object(A.jsx)(h.a,{className:e.title,variant:"h1",color:"primary",children:"Favorite locations"}),Object(A.jsx)("div",{className:e.cardsContainer,children:f})]})},Ye=a(154),Ue=a(75),He=Object(Ue.a)({palette:{background:{dark:"#000",light:"#dbe2ef",toggle:"#000",button:{primary:"#fff",secondary:"#fb3640"},card:"#290149",header:"#282846",paper:"#000"},primary:{main:"#00e0ff"},secondary:{main:"#08d9d6"},text:{primary:"#f0f5f9",secondary:"#e1e5ea"},link:{primary:"#08d9d6",secondary:"#fb3640"},title:{primary:"#000",secondary:"#46BBB0",largeTitle:"#46BBB0"}},shadow:{primary:"0 0 10px 5px rgba(255,249,255,0.58)",secondary:"0 0 8px 4px rgba(255,249,255,0.58)",active:"0 0 25px 8px #46BBB0",button:"0 10px 6px -6px #1F1F1F"}}),Je=Object(Ue.a)({palette:{background:{dark:"#222329",light:"#D9D9D9",header:"#e1f1dd",card:"#a7c5eb",toggle:"#222329",button:{primary:"#fff",secondary:"#fb3640"},paper:"#fff"},primary:{main:"#51c4d3"},secondary:{main:"#890596"},text:{primary:"#1b1a17",secondary:"#646769"},link:{primary:"#890596",secondary:"#fb3640"},title:{primary:"#fff",secondary:"#46BBB0",largeTitle:"#46BBB0"}},shadow:{primary:"0 0 10px 2px #3C4F76",secondary:"0 0 8px 4px rgba(0,0,0,0.8)",active:"0 0 15px 6px #2896CC",button:"0 10px 6px -6px #3D3D3D"}});a(121);var Xe=function(){console.log("version3");var e=Object(c.b)(),t=Object(c.c)((function(e){return e.app.theme}));return Object(r.useEffect)((function(){e(Le()),e((function(e){var t=localStorage.getItem("theme");t&&e(B(t))})),e(function(){var e=Object(P.a)(G.a.mark((function e(t){var a,r,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=void(navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){return{lat:e.coords.latitude,lon:e.coords.longitude}}),(function(){return null}))))||(r={lat:"32.109333",lon:"34.855499"}),e.next=6,V(r);case 6:if((n=e.sent).data&&0!==n.data.length){e.next=9;break}return e.abrupt("return");case 9:t(Ae({key:n.data.Key,name:n.data.AdministrativeArea.LocalizedName})),t(We({key:n.data.Key,name:n.data.AdministrativeArea.LocalizedName})),e.next=15;break;case 13:t(Ae({key:"215805",name:"Tel aviv"})),t(We({key:"215805",name:"Tel aviv"}));case 15:e.next=32;break;case 17:e.prev=17,e.t0=e.catch(0),e.t1=null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status,e.next=400===e.t1?23:401===e.t1?25:403===e.t1?27:404===e.t1?29:31;break;case 23:return t(ge("Bad request!")),e.abrupt("break",32);case 25:return t(ge("API authorization failed!")),e.abrupt("break",32);case 27:return t(ge("Permission denied!")),e.abrupt("break",32);case 29:return t(ge("Data not found!")),e.abrupt("break",32);case 31:t(ge("Something went wrong"));case 32:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(A.jsx)("div",{className:"App ".concat("light"===t?"light-theme":"dark-theme"),children:Object(A.jsxs)(Ye.a,{theme:"light"===t?Je:He,children:[Object(A.jsx)("header",{children:Object(A.jsx)(W,{})}),Object(A.jsxs)(s.c,{children:[Object(A.jsx)(s.a,{exact:!0,path:"/",render:function(){return Object(A.jsx)(Pe,{})}}),Object(A.jsx)(s.a,{exact:!0,path:"/favorites",render:function(){return Object(A.jsx)(Ve,{})}})]})]})})},Qe=a(54),Ze=a(74),$e={isLoading:!1,location:null,currentLocation:null},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(u.a)(Object(u.a)({},e),{},{location:Object(u.a)({},t.payload)});case k:return Object(u.a)(Object(u.a)({},e),{},{currentLocation:t.payload});case x:return Object(u.a)(Object(u.a)({},e),{},{isLoading:t.payload});default:return Object(u.a)({},e)}},tt=a(45),at={isLoading:!1,weather:null,fiveDaysForecast:[]},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(u.a)(Object(u.a)({},e),{},{weather:Object(u.a)({},t.payload)});case C:return Object(u.a)(Object(u.a)({},e),{},{fiveDaysForecast:Object(tt.a)(t.payload)});case x:return Object(u.a)(Object(u.a)({},e),{},{isLoading:t.payload});default:return Object(u.a)({},e)}},nt={isLoading:!1,favoriteLocations:[]},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(u.a)(Object(u.a)({},e),{},{favoriteLocations:e.favoriteLocations.find((function(e){return e.location.key===t.payload.location.key}))?e.favoriteLocations:[].concat(Object(tt.a)(e.favoriteLocations),[t.payload])});case D:return Object(u.a)(Object(u.a)({},e),{},{favoriteLocations:e.favoriteLocations.map((function(e){return e.location.key===t.payload.location.key?t.payload:e}))});case S:return Object(u.a)(Object(u.a)({},e),{},{favoriteLocations:e.favoriteLocations.filter((function(e){return e.location.key!==t.payload.key}))});case L:return Object(u.a)(Object(u.a)({},e),{},{favoriteLocations:Object(tt.a)(t.payload)});case x:return Object(u.a)(Object(u.a)({},e),{},{isLoading:t.payload});default:return Object(u.a)({},e)}},it={theme:"light",temperatureUnits:"celsius"},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(u.a)(Object(u.a)({},e),{},{theme:t.payload});case N:return Object(u.a)(Object(u.a)({},e),{},{temperatureUnits:t.payload});default:return Object(u.a)({},e)}},st={error:null},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(u.a)(Object(u.a)({},e),{},{error:t.payload});default:return Object(u.a)({},e)}},lt=Object(Qe.b)({location:et,weather:rt,favorite:ot,app:ct,error:ut}),pt=Object(Qe.c)(lt,Object(Qe.a)(Ze.a));window.store=pt;var dt=pt;o.a.render(Object(A.jsx)(c.a,{store:dt,children:Object(A.jsx)(i.a,{children:Object(A.jsx)(Xe,{})})}),document.getElementById("root"))},87:function(e,t,a){}},[[122,1,2]]]);
//# sourceMappingURL=main.84aec244.chunk.js.map